<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>openvpn-admin</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <div id="app">

      <vue-good-table
        :columns="columns"
        :rows="filteredRows"
        :line-numbers="true"
        :row-style-class="rowStyleClassFn"
        :search-options="{ enabled: true}" >
        <div slot="table-actions">
          <button type="button" class="btn btn-sm btn-success el-square" v-on:click.stop="u.modalNewUserVisible=true">Add user</button>

          <button type="button" class="btn btn-sm btn-secondary el-square" v-on:click.stop="filters.hide_revoked=!filters.hide_revoked" v-show="filters.hide_revoked">Show revoked</button>
          <button type="button" class="btn btn-sm btn-secondary el-square" v-on:click.stop="filters.hide_revoked=!filters.hide_revoked" v-show="!filters.hide_revoked">Hide revoked</button>
        </div>
        <div slot="emptystate">
          This will show up when there are no rows
        </div>
        <template slot="table-row" slot-scope="props">
          <span v-if="props.column.field == 'actions'">
            <button
              class="btn btn-sm btn-success el-square modal-new-user-el-margin"
              type="button"
              :title="action.label"
              :data-username="props.row.distinguished_name"
              :data-name="action.name"
              :data-text="action.label"
              @click.left.stop="rowActionFn"
              v-for="action in actions"
              v-if="action.showWhenFlag == props.row.flag">
              {{ action.label }}
            </button>
          </span>
        </template>
      </vue-good-table>

      <div class="modal-wrapper" v-if="u.modalNewUserVisible">
          <div class="modal-new-user">
            <input type="text" class="form-control el-square modal-new-user-el-margin" placeholder="User name [_a-zA-Z0-9\.-]" v-model="u.newUserName">
            <button type="button" class="btn btn-success el-square modal-new-user-el-margin" v-on:click.stop="create_user();u.modalNewUserVisible=false">Create</button>
            <button type="button" class="btn btn-success el-square modal-new-user-el-margin" v-on:click.stop="u.newUserName='';u.modalNewUserVisible=false">Cancel</button>
          </div>
      </div>

      <div class="modal-wrapper" v-if="u.modalShowConfigVisible">
          <div class="modal-show-config">
            <div class="row">
              <button type="button" class="btn btn-success el-square modal-new-user-el-margin" v-clipboard:copy="u.openvpnConfig">Copy</button>
              <button type="button" class="btn btn-success el-square modal-new-user-el-margin" v-on:click.stop="u.openvpnConfig='';u.modalShowConfigVisible=false">Cancel</button>
            </div>
            <div class="row">
              <pre class="modal-show-config-txt-box modal-new-user-el-margin">{{ u.openvpnConfig }}</pre>
            </div>
          </div>
      </div>

    </div>
    <script src="dist/build.js"></script>
  </body>
</html>
<!-- n['flag'], n['expiration_date'], n['revocation_date'], n['serial_number'], n['filename'], n['distinguished_name'] -->
